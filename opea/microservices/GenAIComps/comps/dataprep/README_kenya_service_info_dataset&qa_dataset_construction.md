# Kenya Service Info Dataset & QA Dataset Construction

Welcome to the documentation for the **Kenya Service Information Dataset** and **QA Dataset** Construction. This guide provides an overview of the dataset structure, sources and the process of data acquisition and QA generation.

## Dataset Links

[Kenya Service Info Dataset](https://docs.google.com/spreadsheets/d/1fYsOv3G0oqVCBEZKvqiKrFkoKkl9QmBZ/edit?usp=sharing&ouid=112877031916532454013&rtpof=true&sd=true)

[Kenya_Service_QA_Dataset](https://docs.google.com/spreadsheets/d/1Axg2aIoJLDDSDax8Zsv6sSg_Yzq1kz6rjjC0jpr8-_4/edit?usp=sharing)

## Data File Structure

The dataset is organized into the following key fields:

* **Topic**: The general service category or related department/program. Examples include health, housing, pension, film, business, drone, immigration, and transportation. 
* **Sub-topic**: Labels for each piece of information under the related topic. Examples include general information, eligibility, charges, and procedures.
* **Information**: The service content extracted from official sources.
* **Question**: Questions generated by DeepSeek V3 based on the service information (and chat history), followed by manual refinement.
* **Answer**: Answers generated by DeepSeek V3 based on the service information, generated question (and chat history), and manually refined for accuracy.

## Source Website

The primary source for service information extraction is the [Kenya eCitizen portal](https://accounts.ecitizen.go.ke/en). For services not directly linked on the portal, we conduct online searches to find relevant information.

### Guidelines for Source Selection

* Ensure the targeted websites are official Kenya governmental websites.
* Prioritize up-to-date content. If multiple versions are available, select the most recent one. Aim for data published after 2015.

## Data Acquisition Process

The data acquisition process involves the following steps:

1. Identify Key Government Entities and Services
    * Refer to the [Report of Service Design of an AI Conversational Chatbot for Discoverability of e-Government Services]() to identify government entities for piloting the chatbot and their mapped digital services with medium to high impact. These include:
        * Directorate of Immigration Services (high impact)
        * National Transport and Safety Authority (NTSA) (medium impact)
        * Kenya Film Commission (KFC)

2. Explore Services on the eCitizen Portal 
    * Identify services and programs on the eCitizen portal's homepage that are most relevant to the public. Examples include:
        * save for affordable housing
        * register a business
        * apply for a passport
        * apply for a driving licenses

3. Extract and Classify Service Information
    * Search for detailed information about each service and classify it in the dataset. Note that some services may include sub-services or can be further categorized by specific scenarios. Ensure all information is comprehensive and accurate.

## QA Generation

We utilize the DeepSeek-V3 official API in Google Colab to generate questions and answers based on the extracted data and their associated topics. The QA generation process is as follows:

1. Start a New Chat for Each Topic:
    * Initiate a new chat session with the model for each topic. 
    * Provide an example input and output in json format to guide the model. Provide the topic, subtopic and service information of the first row under that topic as the initial input.
2. Generate QA Pairs:
    * After the first QA pair is generated, append it to the chat history.
    * Provide new topic, subtopic, and service information as input to generate the subsequent answers. 
    * Ensure each generated question and answer is recorded in the same row as its corresponding service information.
3. Review and Refinement:
    * Review all generated questions and answers to ensure the questions align closely with real-world scenarios.
    * Modify the answers as needed to ensure accuracy and relevance.

### System Prompt for QA Generation

Below is the system prompt used for QA generation. For the detailed implementation, refer to the [Test Data Generation.ipydb](https://colab.research.google.com/drive/1prE_tVuyPmGAsJbgxRQGDZe7whn_fjHb?usp=sharing) document.

```python
system_prompt = """
You will be given the topic, sub-topic and related service information of Kenya government. Please generate a question that could be asked by a person in a real-life scenario (mainly based on the given topic, service information can also be used), and also generate its answer in a formal and friendly way (based on the given service information, which are facts). Please parse the output "question" and "answer" in JSON format. You should also take previous input and output in consideration.

EXAMPLE INPUT:
Topic: immigration services
Sub-topic: Processing efficiency of Passport Application
Service information: Once your form has been physically submitted to the immigration offices, It should take at least 10 working days to get your first passport. For all other application types, it should take at least 5 working days. It may take a longer period if more information is required or your application hasnâ€™t been filled out correctly. ALL Passport applications should now be made via passport.ecitizen.go.ke. Manual applications will NOT be accepted.

EXAMPLE JSON OUTPUT:
{
    "question": "I am applying for my first passport and have submitted all the materials. When can I get it?",
    "answer": "Hello! Since it is the first time for you to apply for the passport, it should take at least 10 working days to get it. If you have any other questions, ask me at anytime!"
}
"""
```
